(function(n,t){var i,r,u,f,e,o,s,h,c;n.arrays={find:function(n,i){var r=null;return t.each(n,function(n,t){if(t[i.attr]!=undefined&&t[i.attr].toString()==i.value)return r=t,!1}),r},findAll:function(n,i){var r=[];return t.each(n,function(n,t){t[i.attr]!=undefined&&t[i.attr].toString()==i.value&&r.push(t)}),r.length==0?null:r}};i=function(t,i,r){this._splitter=t;this._pane=i;this._options=r;this._options.title=this._options.title||"";this._options.expandedSize=r.size;this._template=n.template('<div class="k-window-titlebar k-header k-ext-layout-header"><span class="k-window-title k-ext-layout-title">#= title #<\/span> #if (arrowsCss.length > 0) { # <div class="k-window-actions"><a href="\\#" class="k-window-action k-link k-ext-toggle k-ext-expanded"><span class="k-icon #= arrowsCss #">Collapse<\/span><\/a><\/div><\/div> # } #');this._callback=null;this.element=null;this._vertTitle="";this.vertTitleName()};i.prototype={init:function(){var n=this,i=t(n._pane);n._options.arrowsCss=n._options.collapsible?n._options.region=="north"?"k-ext-arrows-up":n._options.region=="south"?"k-ext-arrows-down":n._options.region=="east"?"k-ext-arrows-right":"k-ext-arrows-left":"";n._options.collapsed&&(n._options.arrowsCss=n._options.arrowsCss=="k-ext-arrows-up"?"k-ext-arrows-down":n._options.arrowsCss=="k-ext-arrows-down"?"k-ext-arrows-up":n._options.arrowsCss=="k-ext-arrows-right"?"k-ext-arrows-left":n._options.arrowsCss=="k-ext-arrows-left"?"k-ext-arrows-right":"");i.prepend(n._template(n._options));n.element=i.children("div.k-window-titlebar");n.element.find(".k-ext-toggle").on("click",function(){var i=t(this),r=i.hasClass("k-ext-expanded")?"collapse":"expand";n._splitter.toggle(n._pane,r=="expand");n.toggle(r,i)})},toggle:function(n,i){var u=this,f=t(u._pane),r;i||(i=u.element.find(".k-ext-toggle"));u._options.collapsed=n=="collapse";u.update();r=i.children(".k-icon");u._splitter.orientation=="horizontal"?r.hasClass("k-ext-arrows-left")?r.removeClass("k-ext-arrows-left").addClass("k-ext-arrows-right"):r.removeClass("k-ext-arrows-right").addClass("k-ext-arrows-left"):r.hasClass("k-ext-arrows-up")?r.removeClass("k-ext-arrows-up").addClass("k-ext-arrows-down"):r.removeClass("k-ext-arrows-down").addClass("k-ext-arrows-up")},vertTitleName:function(n){n=n||this._options.title;for(var t=0;t<this._options.title.length;t++)this._vertTitle+=this._options.title[t]+"<br/>"},update:function(){var f=this,i=t(f._pane),e=f.element,o=e.find(".k-ext-toggle"),r,u;i.next().hasClass("k-splitbar")?(r=i.next(),u=r.next()):(r=i.prev(),u=r.prev());f._options.collapsed?(f._splitter.orientation=="horizontal"?i.width()<32&&(i.css("width","32px"),f._options.region=="west"?(r.css("left","32px"),u.css("left","39px").width(u.width()-39)):(i.css("left",parseInt(i.css("left"))-34),r.css("left",parseInt(r.css("left"))-34),u.css("right","39px").width(u.width()-39)),e.children("span.k-ext-layout-title").css("display","none"),e.css("height",r.height()),e.find("div.k-ext-vertical-layout-title").length==0&&e.append(n.format("<div style='position: absolute; top: 40px;' class='k-window-title k-ext-layout-title k-ext-vertical-layout-title'>{0}<\/div>",f._vertTitle))):i.height()<32&&(i.css("height","32px"),f._options.region=="north"?(r.css("top","32px"),u.css("top","39px").height(u.height()-32)):(i.css("top",parseInt(i.css("top"))-34),r.css("top",parseInt(r.css("top"))-34),u.css("bottom","39px").height(u.height()-32))),o.removeClass("k-ext-expanded").addClass("k-ext-collapsed")):(e.height(18),o.removeClass("k-ext-collapsed").addClass("k-ext-expanded"),o.closest(".k-window-titlebar").children(".k-window-title").css("display",""),e.find(".k-ext-vertical-layout-title").remove())}};r=n.ui.Splitter.extend({_height:null,init:function(r,u){var f=this;n.ui.Splitter.fn.init.call(f,r,u);f.element.data("kendoSplitter",f);t.each(f._panes(),function(n,r){var u=t(r).data("pane"),e;(u.collapsible||u.showTitlebar)&&(e=new i(f,r,u),e.init(),t(r).data("titlebar",e))});setInterval(function(){f.updateCollapsedPanes()},50)},_triggerAction:function(){this.toggle(arguments[1],arguments[0]=="expand");arguments[1].data("titlebar").toggle(arguments[0])},updateCollapsedPanes:function(n){var i=this,r=i._panes();t.each(r,function(i,r){var u=t(r).data("titlebar");u&&(n==undefined||u.element[0]!=n.target)&&u._options.collapsed&&u.update()})},resize:function(){var n=this,i=n.element.parent(),r=i.height(),c;if(n._height!=r){n._height=r;var u=parseInt(i.css("margin-top")),f=parseInt(i.css("margin-bottom")),e=parseInt(i.css("padding-top")),o=parseInt(i.css("padding-bottom")),s=parseInt(n.element.css("border-top-width")),h=parseInt(n.element.css("border-bottom-width")),l=(isNaN(u)?0:u)+(isNaN(f)?0:f)+(isNaN(e)?0:e)+(isNaN(o)?0:o)+(isNaN(s)?0:s)+(isNaN(h)?0:h);n.element.height(n._height-l).resize();n.options.orientation=="vertical"&&(c=n.element.children("div.k-pane, div.k-splitbar"),t.each(c,function(n,i){t(i).css("width","100%")}))}},options:{name:"ExtLayoutSplitter"}});n.ui.plugin(r);u=n.ui.Widget.extend({_outerSplitter:null,_innerSplitter:null,init:function(i,r){var e=this,u,f,v,y,o,p;if(n.ui.Widget.fn.init.call(e,i,r),u=[],f=[],!r.items)throw"The items array must be defined";var c=n.arrays.find(r.items,{attr:"region",value:"north"}),l=n.arrays.find(r.items,{attr:"region",value:"south"}),s=n.arrays.find(r.items,{attr:"region",value:"east"}),h=n.arrays.find(r.items,{attr:"region",value:"west"}),a=n.arrays.find(r.items,{attr:"region",value:"center"});if(a==null)throw"A center item must be defined";if(c==null&&l==null&&s==null&&h==null)throw"A region of north, south, east or west must be defined";v=t(i);(c!=null||l!=null)&&(c!=null&&f.push(c),s==null&&h==null?f.push(a):(y=n.format("{0}_innerSplitterContents",i.id),v.append(t(n.format("<div id='{0}'/>",y)).attr("class","k-ext-inner-splitter-contents")),f.push({content:n.format("#{0}",y)})),l!=null&&f.push(l));h!=null&&u.push(h);(s!=null||h!=null)&&u.push(a);s!=null&&u.push(s);o=t(n.format("<div id='{0}_outerSplitter'/>",i.id));v.append(o);f.length>0?(t.each(f,function(n,i){o.append(t(i.content))}),p=t(n.format("#{0}_innerSplitterContents",i.id)),t.each(u,function(n,i){p.append(t(i.content))}),e._outerSplitter=o.kendoExtLayoutSplitter({orientation:"vertical",panes:f}).data("kendoExtLayoutSplitter"),e._innerSplitter=p.kendoExtLayoutSplitter({panes:u}).data("kendoExtLayoutSplitter")):(t.each(u,function(n,i){o.append(t(i.content))}),e._outerSplitter=o.kendoExtLayoutSplitter({panes:u}).data("kendoExtLayoutSplitter"));e._outerSplitter!=null&&setTimeout(function(){e.resize()},100)},resize:function(){var n=this,i=n.element.parent(),r=parseInt(n.options.height);if(isNaN(r)&&(r=i[0]==document.body?t(window).height():i.height()),n._height!=r){n._height=r;var u=parseInt(i.css("margin-top")),f=parseInt(i.css("margin-bottom")),e=parseInt(i.css("padding-top")),o=parseInt(i.css("padding-bottom")),s=parseInt(n.element.css("border-top-width")),h=parseInt(n.element.css("border-bottom-width")),c=(isNaN(u)?0:u)+(isNaN(f)?0:f)+(isNaN(e)?0:e)+(isNaN(o)?0:o)+(isNaN(s)?0:s)+(isNaN(h)?0:h);n.element.height(n._height-c).resize();n._outerSplitter.resize();n._innerSplitter!=null&&n._innerSplitter.resize()}n.options.height=="fill"&&setTimeout(function(){n.resize()},100)},setTitle:function(i,r){var f=n.arrays.find(this.options.items,{attr:"region",value:i}),u,e;f!=null&&(u=t(f.content),e=u.data("titlebar"),e.vertTitleName(r),u.find(".k-ext-layout-title").text(r))},options:{name:"ExtBorderLayout",height:"fill"}});n.ui.plugin(u);f=n.ui.Window.extend({_buttonTemplate:n.template('<div class="k-ext-dialog-buttons" style="position:absolute; bottom:10px; text-align:center; width:#= parseInt(width) - 14 #px;"><div style="display:inline-block"># $.each (buttons, function (idx, button) { # <button class="k-button" style="margin-right:5px; width:100px;">#= button.name #<\/button> # }) # <\/div><\/div>'),_contentTemplate:n.template('<div class="k-ext-dialog-content" style="height:#= parseInt(height) - 55 #px;; width:#= parseInt(width) - 14 #px;overflow:auto;">'),init:function(i,r){var u=this,f;r.visible=r.visible||!1;n.ui.Window.fn.init.call(u,i,r);t(i).data("kendoWindow",u);f=t(i).html();t(i).html(u._contentTemplate(r));t(i).find("div.k-ext-dialog-content").append(f);t(i).after(u._buttonTemplate(r));t.each(r.buttons,function(n,r){if(r.click)t(t(i).parent().find(".k-ext-dialog-buttons .k-button")[n]).on("click",{handler:r.click},function(n){n.data.handler({button:this,dialog:u})})});u.bind("resize",function(){u.resizeDialog()})},resizeDialog:function(){var r=this,n=t(r.element),i=n.width(),u=n.height();n.parent().find(".k-ext-dialog-buttons").width(i);n.parent().find(".k-ext-dialog-content").width(i).height(u-39)},options:{name:"ExtDialog"}});n.ui.plugin(f);n.ui.ExtAlertDialog={show:function(i){return new t.Deferred(function(r){var u=null;t("#extAlertDialog").length>0&&t("#extAlertDialog").parent().remove();i=t.extend({width:"300px",height:"100px",buttons:[{name:"OK",click:function(){u.close();r.resolve({button:"OK"})}}],modal:!0,visible:!1,message:"",icon:"k-ext-information"},i);t(document.body).append(n.format("<div id='extAlertDialog' style='position:relative;'><div style='position:absolute;left:10px;top:10px;' class='{0}'><\/div><div style='display:inline-block;margin-left:45px;'>{1}<\/div><\/div>",i.icon,i.message));u=t("#extAlertDialog").kendoExtDialog(i).data("kendoExtDialog");t("#extAlertDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();u.center().open()})},hide:function(){t("#extAlertDialog").data("kendoExtDialog").close()}};n.ui.ExtOkCancelDialog={show:function(i){return new t.Deferred(function(r){t("#extOkCancelDialog").length>0&&t("#extOkCancelDialog").parent().remove();i=t.extend({width:"300px",height:"100px",buttons:[{name:"OK",click:function(){t("#extOkCancelDialog").data("kendoExtDialog").close();r.resolve({button:"OK"})}},{name:"Cancel",click:function(){t("#extOkCancelDialog").data("kendoExtDialog").close();r.resolve({button:"Cancel"})}}],modal:!0,visible:!1,message:"",icon:"k-ext-information"},i);t(document.body).append(n.format("<div id='extOkCancelDialog' style='position:relative;'><div style='position:absolute;left:10px;top:10px;' class='{0}'><\/div><div style='display:inline-block;margin-left:45px;'>{1}<\/div><\/div>",i.icon,i.message));t("#extOkCancelDialog").kendoExtDialog(i);t("#extOkCancelDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();t("#extOkCancelDialog").data("kendoExtDialog").center().open()})}};n.ui.ExtYesNoDialog={show:function(i){return new t.Deferred(function(r){t("#extYesNoDialog").length>0&&t("#extYesNoDialog").parent().remove();i=t.extend({width:"300px",height:"100px",buttons:[{name:"Yes",click:function(){t("#extYesNoDialog").data("kendoExtDialog").close();r.resolve({button:"Yes"})}},{name:"No",click:function(){t("#extYesNoDialog").data("kendoExtDialog").close();r.resolve({button:"No"})}}],modal:!0,visible:!1,message:"",icon:"k-ext-information"},i);t(document.body).append(n.format("<div id='extYesNoDialog' style='position:relative;'><div style='position:absolute;left:10px;top:10px;' class='{0}'><\/div><div style='display:inline-block;margin-left:45px;'>{1}<\/div><\/div>",i.icon,i.message));t("#extYesNoDialog").kendoExtDialog(i);t("#extYesNoDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();t("#extYesNoDialog").data("kendoExtDialog").center().open()})},hide:function(){t("#extYesNoDialog").data("kendoExtDialog").close()}};n.ui.ExtInputDialog={show:function(i){return new t.Deferred(function(r){var u=null;t("#extInputDialog").length>0&&t("#extInputDialog").parent().remove();i=t.extend({width:"300px",height:"100px",buttons:[{name:"OK",click:function(){var n=t("#extInputDialog .k-ext-input-dialog-input");u.options.required&&n.val().length==0?n.addClass(u.options.requiredCss):(u.close(),r.resolve({button:"OK",input:n.val()}))}},{name:"Cancel",click:function(){u.close();r.resolve({button:"Cancel"})}}],modal:!0,visible:!1,message:"",required:!1,requiredCss:"k-ext-required"},i);t(document.body).append(n.format("<div id='extInputDialog' style='position:relative;'><div style='display:block;margin-left:10px;right-margin:10px;'>{0}<\/div><div style='display:block;margin-left:10px;margin-right:15px;'><input type='text' class='k-ext-input-dialog-input' style='width:100%;'<\/input><\/div><\/div>",i.message));u=t("#extInputDialog").kendoExtDialog(i).data("kendoExtDialog");t("#extInputDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();u.center().open()})},hide:function(){t("#extInputDialog").data("kendoExtDialog").close()}};n.ui.ExtWaitDialog={show:function(i){return new t.Deferred(function(r){return t("#extWaitDialog").length>0&&t("#extWaitDialog").parent().remove(),i=t.extend({width:"300px",height:"100px",modal:!0,visible:!1,message:""},i),t(document.body).append(n.format("<div id='extWaitDialog' style='position:relative;'><div style='position:absolute;left:10px;top:10px;' class='k-ext-wait'><\/div><div style='display:inline-block;margin-left:45px;'>{0}<\/div><\/div>",i.message)),t("#extWaitDialog").kendoWindow(i),t("#extWaitDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty(),t("#extWaitDialog").data("kendoWindow").center().open(),r.resolve()})},hide:function(){t("#extWaitDialog").data("kendoWindow").close()}};e=n.ui.Widget.extend({_uid:null,_grid:null,_dropdown:null,init:function(i,r){var u=this,f;n.ui.Widget.fn.init.call(u,i,r);u._uid=(new Date).getTime();t(i).append(n.format("<div id='extGrid{0}' class='k-ext-grid' style='{1};z-index:1;'/>",u._uid,r.gridWidth?n.format("width:{0}",r.gridWidth):""));t(i).append(n.format("<input id='extDropDown{0}' class='k-ext-dropdown'/>",u._uid));u._grid=t(n.format("#extGrid{0}",u._uid)).kendoGrid(r.grid).data("kendoGrid");u._grid.bind("change",function(n){setTimeout(function(){var i=t(u._grid.element).find("tr.k-state-selected"),r;i.length>0&&i.hasClass("k-grid-edit-row")===!1&&(r=u._grid.dataItem(i),f.find("span.k-input").text(r[u.options.dataTextField]),t(u._grid.element).slideToggle("fast",function(){t(u._grid.element).removeClass("k-custom-visible")}),u.trigger("change",n))})});u._dropdown=t(n.format("#extDropDown{0}",u._uid)).kendoDropDownList({dataSource:[{text:"",value:""}],dataTextField:"text",dataValueField:"value",open:function(n){n.preventDefault();t(u._grid.element).hasClass("k-custom-visible")||(t(u._grid.element).css({top:f.position().top+f.height(),left:f.position().left}),t(u._grid.element).slideToggle("fast",function(){u._dropdown.close();t(u._grid.element).addClass("k-custom-visible")}))}}).data("kendoDropDownList");r.dropDownWidth&&u._dropdown._focused.width(r.dropDownWidth);f=t(u._dropdown.element).closest("span.k-dropdown");t(u._grid.element).hide().css({border:"1px solid grey",position:"absolute"});t(document).click(function(i){t(i.target).closest(n.format("#extGrid{0}",u._uid)).length==0&&t(i.target).closest("form.k-filter-menu").length==0&&(t(i.target).hasClass("k-link")&&t(i.target).data("page")>0)==!1&&t(u._grid.element).hasClass("k-custom-visible")&&t(u._grid.element).slideToggle("fast",function(){t(u._grid.element).removeClass("k-custom-visible")})})},dropDownList:function(){return this._dropdown},grid:function(){return this._grid},options:{name:"ExtDropDownGrid"}});n.ui.plugin(e);o=n.ui.Widget.extend({_uid:null,_treeview:null,_dropdown:null,init:function(i,r){var u=this,e,f;n.ui.Widget.fn.init.call(u,i,r);u._uid=(new Date).getTime();t(i).append(n.format("<input id='extDropDown{0}' class='k-ext-dropdown'/>",u._uid));t(i).append(n.format("<div id='extTreeView{0}' class='k-ext-treeview' style='z-index:1;'/>",u._uid));u._dropdown=t(n.format("#extDropDown{0}",u._uid)).kendoDropDownList({dataSource:[{text:"",value:""}],dataTextField:"text",dataValueField:"value",open:function(n){n.preventDefault();f.hasClass("k-custom-visible")||(f.css({top:e.position().top+e.height(),left:e.position().left}),f.slideToggle("fast",function(){u._dropdown.close();f.addClass("k-custom-visible")}))}}).data("kendoDropDownList");r.dropDownWidth&&u._dropdown._inputWrapper.width(r.dropDownWidth);e=t(u._dropdown.element).closest("span.k-dropdown");u._treeview=t(n.format("#extTreeView{0}",u._uid)).kendoTreeView(r.treeview).data("kendoTreeView");u._treeview.bind("select",function(n){e.find("span.k-input").text(t(n.node).children("div").text());f.slideToggle("fast",function(){f.removeClass("k-custom-visible");u.trigger("select",n)})});f=t(u._treeview.element).closest("div.k-treeview");f.width(e.width()).css({border:"1px solid grey",display:"none",position:"absolute","background-color":u._dropdown.list.css("background-color")});t(document).click(function(n){t(n.target).closest("div.k-treeview").length==0&&f.hasClass("k-custom-visible")&&f.slideToggle("fast",function(){f.removeClass("k-custom-visible")})})},dropDownList:function(){return this._dropdown},treeview:function(){return this._treeview},options:{name:"ExtDropDownTreeView"}});n.ui.plugin(o);s=n.ui.Editor.extend({init:function(i,r){var u=this;n.ui.Editor.fn.init.call(u,i,r);t(i).data("kendoEditor",u)},options:{name:"ExtEditor"}});n.ui.plugin(s);h=n.ui.Widget.extend({init:function(i,r){var u=this,f=t(i),e;n.ui.Widget.fn.init.call(u,i,r);f.before(n.format('<div class="k-input k-textbox k-ext-textbox {0}" {1}><\/div>',u.options.textboxClass,u.options.width?n.format("style='width:{0};'",u.options.width):""));e=f.prev();e.append(f);f.before(n.format("<span {0}>{1}<\/span>",u.options.placeholderClass?n.format("class='{0}'",u.options.placeholderClass):"",f.val().length==0?u.options.placeholder:""));f.on("blur",function(){if(u.options.placeholder){var n=t(this);n.val().length==0?n.prev("span").text(u.options.placeholder):n.prev("span").text("")}}).on("focus",function(){u.options.placeholder&&t(this).prev("span").text("")})},options:{name:"ExtTextBox"}});n.ui.plugin(h);c=n.ui.Menu.extend({_itemTemplate:"<li># if (iconCss.length > 0) { #<span class=' #=iconCss # k-icon'><\/span># } # #= text #<\/li>",init:function(i,r){var u=this,f;t(i).appendTo("body").hide();r=t.extend(r,{orientation:"vertical"});r.items&&(f=n.template(u._itemTemplate),t.each(r.items,function(n,r){var u="";r.separator?u="<li class='k-ext-menu-separator'><hr/><li>":(r=t.extend({iconCss:""},r),u=f(r));t(i).append(u)}));n.ui.Menu.fn.init.call(u,i,r);t(u.element).find("li.k-ext-menu-separator span").removeClass("k-link");t(document).on("contextmenu",r.targets,function(n){return n.preventDefault(),u.trigger("beforeopen",n),u._currentTarget=n.currentTarget,u.show(n.pageX,n.pageY),!1});u.options.beforeOpen&&u.bind("beforeopen",u.options.beforeOpen);u.bind("select",u._select);t(u.element).css({width:u.options.width,position:"absolute"}).addClass("k-block").addClass("k-ext-contextmenu");t(document).click(function(n){t(n.target).closest(".k-ext-contextmenu").length==0&&t(u.element).hasClass("k-custom-visible")&&u.hide()})},show:function(n,i){var r=this;t(r.element).css({top:i,left:n});t(r.element).slideToggle("fast",function(){t(r.element).addClass("k-custom-visible")})},hide:function(){var n=this;t(n.element).slideToggle("fast",function(){t(n.element).removeClass("k-custom-visible")})},_select:function(n){this.options.itemSelect!=undefined&&(n.target=this._currentTarget,this.options.itemSelect.apply(this,[n]));this.hide()},options:{name:"ExtContextMenu",width:"100px"}});n.ui.plugin(c)})(window.kendo,window.kendo.jQuery);