var Shared={};Shared.AjaxStart=function(){kendo.ui.progress($(document.body),!0)};Shared.AjaxEnd=function(){kendo.ui.progress($(document.body),!1)};Shared.AjaxError=function(n){Shared.AjaxEnd();kendo.ui.ExtAlertDialog.show({title:"Unexpected BridgeCRM Error "+n.status,message:"Action Failed - The details for this error has been logged.  If the problem persists please contact us.",icon:"k-ext-error"})};Shared.HTTPError=function(n){kendo.ui.ExtAlertDialog.show({title:"Unexpected BridgeCRM Error "+n.XMLHttpRequest.status,message:"Action Failed.  If the problem persists please contact us.",icon:"k-ext-error"})};Shared.ToggleClass=function(n){$("#"+n).toggleClass("field-hidden")};Shared.RefreshGrid=function(n){$("#"+n).data("kendoGrid")&&$("#"+n).data("kendoGrid").dataSource.read()};Shared.RebindGrid=function(n){$("#"+n).data("kendoGrid").dataSource.page(1)};Shared.ProcessURLId=function(n){Shared.ProcessURL($("#"+n).val())};Shared.ProcessURL=function(n){n!=""&&setTimeout(function(){window.location.href=n},1e3)};Shared.CheckboxStrSelectList=function(n){var t=[];return $("#"+n+" :checkbox").each(function(){$(this).is(":checked")&&t.push($(this).val())}),t.join(",")};Shared.GetComboBoxText=function(n){var r=$("#"+n).data("kendoComboBox"),t,u,i;if(r){if(t=r.dataSource.filter(),u=r.input.val(),!t||!t.filters.length)return"";for(i=0;i<t.filters.length;i++)if(t.filters[i].field=="Name")return u}return""};Shared.ClearComboBox=function(n,t){var i=$("#"+n).data("kendoComboBox");i&&(i.value(""),i.options.value="",i.text(""),i.dataSource.filter([]),t&&i.dataSource.data([]),i.trigger("change"))};Shared.ResetEditor=function(n){$("#"+n+" .k-editor textarea").each(function(){var n=$(this).data("kendoEditor");n&&(n.wrapper.find("iframe").remove(),n.destroy())})};Shared.GetToolTipID=function(n){n.options.data={id:n.target.data("id")}};Shared.ToolTipWin_OnClick=function(n){$("#ToolTipWin").length<=0?$("<div id='ToolTipWin'><\/div>").appendTo("body"):$("#ToolTipWin").empty();var t=$("#ToolTipWin").kendoWindow({title:"ToolTip",modal:!0,resizable:!0,draggable:!0,width:"85%",visible:!1,animation:!1,refresh:function(){this.center();this.open();Shared.AjaxEnd()},deactivate:function(){this.destroy();$("#ContentMarker").data("kendoTooltip").refresh()}}).data("kendoWindow");Shared.AjaxStart();t.refresh("/Admin/_Help_ToolTip_Detail?FieldID="+n)};Shared.ExcelGridDateTimeFormat=function(n){var u=n.sender,f,r,e,t,o;if(u){var i=[],h=u.dataSource.options.schema.model.fields,s=u.columns.filter(function(n){return n.hidden!==!0});for(s.forEach(function(n,t){n.format=="{0:dd/MM/yyyy hh:mm tt}"&&i.push({i:t,format:"dd/mm/yyyy hh:mm AM/PM"})}),f=n.workbook.sheets[0],r=1;r<f.rows.length;r++)for(e=f.rows[r],t=0;t<i.length;t++)o=i[t].i,e.cells[o].format=i[t].format}};